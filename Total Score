t=int(input())
for i in range(t):
    n,m=map(int,input().split())
    arr=list(map(int,input().split()))
    # print(arr)
    for i in range(n):
        s=input()
        b=list(map(int,(s)))
        # print(b)
        m=0
        for j in range(len(b)):
            # print(b[j],end=" ")
            # print(arr[j],end=" ")
            if (b[j] == 1):
                m+=arr[j]
        print(m)
